<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>LetUs AI — Assistant</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="app-header">
    <h1>LetUs AI</h1>
    <p class="subtitle">Smart assistant — ask anything</p>
  </header>

  <main class="container">
    <section class="chat-panel">
      <div id="messages" class="messages"></div>
      <form id="promptForm" class="prompt-form" onsubmit="return sendPrompt();">
        <input id="promptInput" placeholder="Ask me something..." autocomplete="off" />
        <button type="submit">Send</button>
      </form>
    </section>

    <aside class="controls">
      <h3>Settings</h3>
      <label>
        Model:
        <select id="modelSelect">
          <option value="gpt-4">gpt-4</option>
          <option value="gpt-4o">gpt-4o</option>
          <option value="gpt-3.5-turbo">gpt-3.5-turbo</option>
        </select>
      </label>

      <button id="clearBtn" onclick="clearChat()">Clear</button>
    </aside>
  </main>

  <footer class="footer">Powered by LetUs AI • Replace API key in native app</footer>

  <script>
    // Basic UI & local stub for calling AI endpoint via native bridge (Android)
    function addMessage(role, text) {
      const container = document.getElementById('messages');
      const el = document.createElement('div');
      el.className = 'msg ' + role;
      el.textContent = text;
      container.appendChild(el);
      container.scrollTop = container.scrollHeight;
    }

    function clearChat() {
      document.getElementById('messages').innerHTML = '';
    }

    async function sendPrompt() {
      const input = document.getElementById('promptInput');
      const text = input.value.trim();
      if (!text) return false;
      addMessage('user', text);
      input.value = '';
      addMessage('assistant', 'Thinking...');

      // If running inside Android WebView, Android.sendToAI will exist.
      try {
        if (window.Android && window.Android.sendToAI) {
          window.Android.sendToAI(text, document.getElementById('modelSelect').value);
          // native will call showAIResponse(response) later
        } else {
          // Fallback: simple simulated reply
          await new Promise(r => setTimeout(r, 800));
          const reply = "This is a demo reply. Integrate a real AI API in the Android app.";
          // replace last "Thinking..." message
          const msgs = document.getElementsByClassName('assistant');
          msgs[msgs.length - 1].textContent = reply;
        }
      } catch (e) {
        console.error(e);
      }
      return false;
    }

    // This function will be called by Android native code to inject response
    function showAIResponse(text) {
      // replace last assistant "Thinking..." if exists
      const msgs = document.getElementsByClassName('assistant');
      if (msgs.length) {
        msgs[msgs.length - 1].textContent = text;
      } else {
        addMessage('assistant', text);
      }
    }
  </script>
</body>
</html>
:root {
  --bg: #0f1720;
  --card: #0f1720;
  --accent: #6c7cff;
  --muted: #94a3b8;
  --text: #e6eef8;
}

* { box-sizing: border-box; font-family: Inter, system-ui, sans-serif; }
html,body { height:100%; margin:0; background: linear-gradient(180deg,#071022 0%, #0b1220 100%); color:var(--text); }

.app-header { padding:16px; text-align:center; }
.app-header h1 { margin:0; font-size:1.6rem; }
.subtitle { margin:4px 0 0; color:var(--muted); font-size:0.9rem; }

.container { display:flex; gap:16px; padding:16px; align-items:flex-start; max-width:1100px; margin:0 auto; }
.chat-panel { flex:1; background:rgba(255,255,255,0.03); border-radius:12px; padding:12px; display:flex; flex-direction:column; min-height:60vh; }
.controls { width:260px; background:rgba(255,255,255,0.02); padding:12px; border-radius:12px; color:var(--muted); }

.messages { flex:1; overflow:auto; padding:8px; display:flex; flex-direction:column; gap:8px; }
.msg { padding:10px 12px; border-radius:10px; max-width:85%; line-height:1.35; }
.msg.user { background:linear-gradient(90deg,#15243a,#1e2f4a); align-self:flex-end; }
.msg.assistant { background:rgba(255,255,255,0.03); align-self:flex-start; }

.prompt-form { display:flex; gap:8px; margin-top:8px; }
.prompt-form input { flex:1; padding:10px 12px; border-radius:10px; border:1px solid rgba(255,255,255,0.06); background:transparent; color:var(--text); }
.prompt-form button { padding:10px 14px; border-radius:10px; border:0; background:var(--accent); color:white; cursor:pointer; }

.controls select, .controls button { width:100%; padding:8px; margin-top:8px; border-radius:8px; border:1px solid rgba(255,255,255,0.04); background:transparent; color:var(--text); }
.footer { text-align:center; padding:12px; color:var(--muted); font-size:0.9rem; }
@media (max-width:800px) {
  .container { flex-direction:column; padding:12px; }
  .controls { width:100%; order:2; }
}
package com.letus.aiapp;

import android.annotation.SuppressLint;
import android.os.Bundle;
import android.webkit.WebSettings;
import android.webkit.WebView;
import android.webkit.JavascriptInterface;
import android.webkit.WebViewClient;
import android.widget.Toast;

import androidx.appcompat.app.AppCompatActivity;

import com.google.android.gms.ads.AdRequest;
import com.google.android.gms.ads.AdView;
import com.google.android.gms.ads.MobileAds;

import okhttp3.Call;
import okhttp3.Callback;
import okhttp3.MediaType;
import okhttp3.OkHttpClient;
import okhttp3.Request;
import okhttp3.RequestBody;
import okhttp3.Response;

import java.io.IOException;

public class MainActivity extends AppCompatActivity {

    private WebView webView;
    private OkHttpClient client = new OkHttpClient();
    private AdView adView;

    @SuppressLint("SetJavaScriptEnabled")
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

		// Initialize AdMob
        MobileAds.initialize(this, initializationStatus -> {});

        adView = findViewById(R.id.adView);
        AdRequest adRequest = new AdRequest.Builder().build();
        adView.loadAd(adRequest);

        webView = findViewById(R.id.webview);
        WebSettings ws = webView.getSettings();
        ws.setJavaScriptEnabled(true);
        ws.setDomStorageEnabled(true);
        webView.setWebViewClient(new WebViewClient());

        // Add JS bridge so web UI can call native methods
        webView.addJavascriptInterface(new WebAppInterface(), "Android");

        // Load local html in assets (index.html)
        webView.loadUrl("file:///android_asset/index.html");
    }

    // JavaScript interface class to receive prompts from the web UI
    private class WebAppInterface {
        @JavascriptInterface
        public void sendToAI(String prompt, String model) {
            runOnUiThread(() -> {
                // call AI remote API (example using okhttp). Replace endpoint & API key
                callAIEndpoint(prompt, model);
            });
        }
    }

    private void callAIEndpoint(String prompt, String model) {
        // Example: POST request to your AI proxy / backend or OpenAI endpoint.
        // IMPORTANT: Don't embed sensitive API keys in the app for production.
        String apiKey = "YOUR_AI_API_KEY"; // replace with secure mechanism (server-side recommended)
        String endpoint = "https://api.your-ai-endpoint.com/v1/generate"; // replace with your AI endpoint

        MediaType JSON = MediaType.parse("application/json; charset=utf-8");
        // Adjust payload according to your API schema
        String jsonBody = "{ \"model\":\"" + model + "\",\"prompt\":\"" + escapeJson(prompt) + "\" }";
        RequestBody body = RequestBody.create(jsonBody, JSON);

        Request request = new Request.Builder()
                .url(endpoint)
                .post(body)
                .addHeader("Authorization", "Bearer " + apiKey)
                .build();

        client.newCall(request).enqueue(new Callback() {
            @Override public void onFailure(Call call, IOException e) {
                runOnUiThread(() -> {
                    Toast.makeText(MainActivity.this, "AI request failed", Toast.LENGTH_SHORT).show();
                    // pass a failure message back to the web UI
                    webView.post(() -> webView.evaluateJavascript("showAIResponse('Failed to get response.')", null));
                });
            }

            @Override public void onResponse(Call call, Response response) throws IOException {
                if (!response.isSuccessful()) {
                    runOnUiThread(() -> {
                        webView.post(() -> webView.evaluateJavascript("showAIResponse('Error: " + response.code() + "')", null));
                    });
                    return;
                }
                String respBody = response.body().string();
                // Simplest: send raw text to web UI (in production, parse JSON -> extract text)
                final String toShow = escapeForJs(respBody);
                runOnUiThread(() -> webView.evaluateJavascript("showAIResponse(" + toShow + ")", null));
            }
        });
    }

    private String escapeForJs(String s) {
        if (s == null) return "\"\"";
        String esc = s.replace("\\", "\\\\").replace("\"","\\\"").replace("\n","\\n").replace("\r","\\r");
        return "\"" + esc + "\"";
    }

    private String escapeJson(String s) {
        if (s == null) return "";
        return s.replace("\\", "\\\\").replace("\"","\\\"");
    }

    @Override
    protected void onDestroy() {
        if (adView != null) adView.destroy();
        super.onDestroy();
    }
}
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:ads="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent">

    <com.google.android.gms.ads.AdView
        android:id="@+id/adView"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        ads:adSize="BANNER"
        ads:adUnitId="YOUR_BANNER_AD_UNIT_ID" />

    <WebView
        android:id="@+id/webview"
        android:layout_below="@id/adView"
        android:layout_width="match_parent"
        android:layout_height="match_parent"/>
</RelativeLayout>
<manifest package="com.letus.aiapp"
    xmlns:android="http://schemas.android.com/apk/res/android">

    <uses-permission android:name="android.permission.INTERNET"/>
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>

    <application
        android:label="LetUs AI"
        android:allowBackup="true"
        android:theme="@style/Theme.AppCompat.DayNight.NoActionBar">

        <!-- Replace with your AdMob App ID -->
        <meta-data
            android:name="com.google.android.gms.ads.APPLICATION_ID"
            android:value="YOUR_ADMOB_APP_ID"/>

        <activity android:name=".MainActivity"
            android:exported="true"
            android:theme="@style/Theme.AppCompat.Light.NoActionBar">
            <intent-filter>
                <action android:name="android.intent.action.MAIN"/>
                <category android:name="android.intent.category.LAUNCHER"/>
            </intent-filter>
        </activity>

    </application>
</manifest>
// add in dependencies { ... }
implementation 'androidx.appcompat:appcompat:1.6.1'
implementation 'com.google.android.gms:play-services-ads:22.0.0' // check latest in your environment
implementation 'com.squareup.okhttp3:okhttp:4.10.0' // for network calls
